---
import { SITE } from "../../const/site";
import { NAV } from "../../const/nav";
import Kbd from "../ui/Kbd.astro";
import StatusDot from "./StatusDot.astro";
const { currentPath } = Astro.props as { currentPath: string };
---
<header class="sticky top-0 z-40 border-b ui-border bg-[rgba(var(--bg),0.75)] backdrop-blur">
    <div class="mx-auto flex max-w-6xl items-center justify-between px-4 py-3">
        <div class="flex items-center gap-3">
            <StatusDot online />
            <a href="/" class="ui-interactive font-mono text-sm ui-text">{SITE.name}</a>
            <span class="hidden text-xs ui-muted-faint sm:inline">Â·</span>
            <span class="hidden text-xs ui-muted-soft sm:inline">{SITE.tagline}</span>
        </div>

        <nav class="hidden items-center gap-4 sm:flex">
            {NAV.map((n) => (
                <a
                    href={n.href}
                    class:list={[
                        "ui-interactive text-sm ui-muted",
                        currentPath === n.href ? "ui-text underline decoration-[rgba(var(--border),0.6)]" : ""
                    ]}
                >
                    {n.label}
                </a>
            ))}
            <button
                type="button"
                class="ui-interactive ui-interactive-surface ml-2 inline-flex items-center gap-2 rounded-xl border ui-border bg-[rgba(var(--panel),0.7)] px-3 py-1.5 text-xs ui-muted"
                data-cmdk-open
            >
                Search <Kbd keys="Ctrl K" />
            </button>
        </nav>

        <button
            type="button"
            class="ui-interactive ui-interactive-surface sm:hidden rounded-xl border ui-border bg-[rgba(var(--panel),0.7)] px-3 py-1.5 text-xs ui-muted"
            data-cmdk-open
        >
            Menu
        </button>
    </div>
</header>