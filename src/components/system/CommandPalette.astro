---
import { commandPaletteEntries } from "../../const/nav";
import { SITE } from "../../const/site";
const entries = commandPaletteEntries();
---
<div id="cmdk" class="fixed inset-0 z-100 hidden" aria-hidden="true">
    <div class="absolute inset-0 bg-black/60" data-cmdk-close></div>

    <div class="absolute left-1/2 top-16 w-[min(720px,92vw)] -translate-x-1/2">
        <div class="ui-panel rounded-2xl shadow-xl">
            <div class="border-b ui-border p-3">
                <input
                    id="cmdk-input"
                    class="ui-field ui-interactive w-full rounded-xl px-3 py-2 text-sm outline-none"
                    placeholder={`Search ${SITE.name}…`}
                    autocomplete="off"
                />
                <div class="mt-2 text-xs text-white/50 font-mono">Enter: open · Esc: close</div>
            </div>

            <ul id="cmdk-list" class="max-h-[52vh] overflow-auto p-2">
                {entries.map((e) => (
                    <li>
                        <a
                            href={e.href}
                            class="cmdk-item ui-interactive ui-interactive-surface block rounded-xl px-3 py-2 text-sm ui-muted-soft"
                            data-cmdk-item
                            data-label={e.label.toLowerCase()}
                        >
                            <span class="font-mono text-xs ui-muted-faint">page</span>
                            <span class="ml-2 ui-text">{e.label}</span>
                            <span class="ml-2 ui-muted-faint">{e.href}</span>
                        </a>
                    </li>
                ))}
            </ul>
        </div>
    </div>
</div>
